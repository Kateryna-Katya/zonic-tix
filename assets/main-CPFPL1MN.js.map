{"version":3,"file":"main-CPFPL1MN.js","sources":["../../src/main.js"],"sourcesContent":["document.addEventListener('DOMContentLoaded', () => {\n    \n    // ==========================================\n    // 1. MOBILE MENU TOGGLE\n    // ==========================================\n    const navMenu = document.getElementById('nav-menu');\n    const navToggle = document.getElementById('nav-toggle');\n    const navClose = document.getElementById('nav-close');\n    const navLinks = document.querySelectorAll('.nav__link');\n\n    if (navToggle) {\n        navToggle.addEventListener('click', () => {\n            navMenu.classList.add('active');\n            document.body.style.overflow = 'hidden';\n        });\n    }\n\n    if (navClose) {\n        navClose.addEventListener('click', () => {\n            navMenu.classList.remove('active');\n            document.body.style.overflow = '';\n        });\n    }\n\n    navLinks.forEach(link => {\n        link.addEventListener('click', () => {\n            navMenu.classList.remove('active');\n            document.body.style.overflow = '';\n        });\n    });\n\n    // ==========================================\n    // 2. DYNAMIC YEAR\n    // ==========================================\n    const yearSpan = document.getElementById('year');\n    if (yearSpan) {\n        yearSpan.textContent = new Date().getFullYear();\n    }\n\n    // ==========================================\n    // 3. SCROLL REVEAL ANIMATION (Intersection Observer)\n    // ==========================================\n    const observerOptions = {\n        root: null,\n        rootMargin: '0px',\n        threshold: 0.1\n    };\n\n    const observer = new IntersectionObserver((entries, observer) => {\n        entries.forEach(entry => {\n            if (entry.isIntersecting) {\n                entry.target.classList.add('visible');\n                observer.unobserve(entry.target); // Animate only once\n            }\n        });\n    }, observerOptions);\n\n    const fadeElements = document.querySelectorAll('.fade-in');\n    fadeElements.forEach(el => observer.observe(el));\n\n    // ==========================================\n    // 4. COOKIE POPUP\n    // ==========================================\n    const cookiePopup = document.getElementById('cookiePopup');\n    const acceptCookiesBtn = document.getElementById('acceptCookies');\n    \n    // Check localStorage\n    if (!localStorage.getItem('cookiesAccepted')) {\n        setTimeout(() => {\n            cookiePopup.classList.add('active');\n        }, 2000); // Show after 2 seconds\n    }\n\n    if (acceptCookiesBtn) {\n        acceptCookiesBtn.addEventListener('click', () => {\n            localStorage.setItem('cookiesAccepted', 'true');\n            cookiePopup.classList.remove('active');\n        });\n    }\n\n    // ==========================================\n    // 5. HERO ANIMATION (THREE.JS)\n    // ==========================================\n    function initHeroAnimation() {\n        const container = document.getElementById('hero-canvas');\n        if (!container || typeof THREE === 'undefined') return;\n\n        let scene, camera, renderer, particles;\n        let count = 0;\n\n        function init() {\n            scene = new THREE.Scene();\n            camera = new THREE.PerspectiveCamera(75, container.clientWidth / container.clientHeight, 1, 10000);\n            camera.position.z = 1000;\n            camera.position.y = 300;\n\n            const numParticles = 3000;\n            const positions = new Float32Array(numParticles * 3);\n            const scales = new Float32Array(numParticles);\n\n            let i = 0, j = 0;\n            for (let ix = 0; ix < 50; ix++) {\n                for (let iy = 0; iy < 60; iy++) {\n                    positions[i] = ix * 100 - ((50 * 100) / 2);\n                    positions[i + 1] = 0;\n                    positions[i + 2] = iy * 100 - ((60 * 100) / 2);\n                    scales[j] = 1;\n                    i += 3;\n                    j++;\n                }\n            }\n\n            const geometry = new THREE.BufferGeometry();\n            geometry.setAttribute('position', new THREE.BufferAttribute(positions, 3));\n            geometry.setAttribute('scale', new THREE.BufferAttribute(scales, 1));\n\n            const material = new THREE.PointsMaterial({\n                color: 0x06B6D4,\n                size: 20,\n                transparent: true,\n                opacity: 0.6,\n                sizeAttenuation: true\n            });\n\n            particles = new THREE.Points(geometry, material);\n            scene.add(particles);\n\n            renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });\n            renderer.setPixelRatio(window.devicePixelRatio);\n            renderer.setSize(container.clientWidth, container.clientHeight);\n            container.appendChild(renderer.domElement);\n            renderer.setClearColor(0x000000, 0); \n\n            window.addEventListener('resize', onWindowResize);\n        }\n\n        function onWindowResize() {\n            camera.aspect = container.clientWidth / container.clientHeight;\n            camera.updateProjectionMatrix();\n            renderer.setSize(container.clientWidth, container.clientHeight);\n        }\n\n        function animate() {\n            requestAnimationFrame(animate);\n            render();\n        }\n\n        function render() {\n            const positions = particles.geometry.attributes.position.array;\n            const scales = particles.geometry.attributes.scale.array;\n            let i = 0, j = 0;\n            for (let ix = 0; ix < 50; ix++) {\n                for (let iy = 0; iy < 60; iy++) {\n                    positions[i + 1] = (Math.sin((ix + count) * 0.3) * 50) + (Math.sin((iy + count) * 0.5) * 50);\n                    scales[j] = (Math.sin((ix + count) * 0.3) + 1) * 10 + (Math.sin((iy + count) * 0.5) + 1) * 10;\n                    i += 3; j++;\n                }\n            }\n            particles.geometry.attributes.position.needsUpdate = true;\n            particles.geometry.attributes.scale.needsUpdate = true;\n            particles.rotation.y += 0.002;\n            count += 0.05;\n            renderer.render(scene, camera);\n        }\n\n        init();\n        animate();\n    }\n    initHeroAnimation();\n\n    // ==========================================\n    // 6. CONTACT FORM LOGIC (Validation + Captcha)\n    // ==========================================\n    const form = document.getElementById('contactForm');\n    const successMsg = document.getElementById('formSuccess');\n    \n    // Captcha Logic\n    const captchaInput = document.getElementById('captcha');\n    const captchaLabel = document.getElementById('captchaLabel');\n    const captchaError = document.getElementById('captchaError');\n    let captchaResult = 0;\n\n    function generateCaptcha() {\n        const num1 = Math.floor(Math.random() * 10) + 1;\n        const num2 = Math.floor(Math.random() * 10) + 1;\n        captchaResult = num1 + num2;\n        if(captchaLabel) captchaLabel.textContent = `Решите пример: ${num1} + ${num2} = ?`;\n    }\n    generateCaptcha();\n\n    if (form) {\n        form.addEventListener('submit', (e) => {\n            e.preventDefault();\n            let isValid = true;\n\n            // 1. Phone Validation (Digits only)\n            const phone = document.getElementById('phone');\n            const phoneError = document.getElementById('phoneError');\n            const phoneRegex = /^\\d+$/; // Only digits\n\n            if (!phoneRegex.test(phone.value.replace(/\\s/g, ''))) {\n                phoneError.textContent = 'Телефон должен содержать только цифры';\n                phone.style.borderColor = '#ef4444';\n                isValid = false;\n            } else {\n                phoneError.textContent = '';\n                phone.style.borderColor = 'rgba(255,255,255,0.1)';\n            }\n\n            // 2. Email Validation\n            const email = document.getElementById('email');\n            const emailError = document.getElementById('emailError');\n            if (!email.value.includes('@') || !email.value.includes('.')) {\n                emailError.textContent = 'Введите корректный email';\n                email.style.borderColor = '#ef4444';\n                isValid = false;\n            } else {\n                emailError.textContent = '';\n                email.style.borderColor = 'rgba(255,255,255,0.1)';\n            }\n\n            // 3. Captcha Validation\n            if (parseInt(captchaInput.value) !== captchaResult) {\n                captchaError.textContent = 'Неверный ответ';\n                captchaInput.style.borderColor = '#ef4444';\n                isValid = false;\n            } else {\n                captchaError.textContent = '';\n                captchaInput.style.borderColor = 'rgba(255,255,255,0.1)';\n            }\n\n            if (isValid) {\n                // Simulate AJAX\n                const btn = form.querySelector('button[type=\"submit\"]');\n                const originalText = btn.textContent;\n                btn.textContent = 'Отправка...';\n                btn.disabled = true;\n\n                setTimeout(() => {\n                    form.style.display = 'none';\n                    successMsg.style.display = 'block';\n                    btn.textContent = originalText;\n                    btn.disabled = false;\n                    form.reset();\n                }, 1500);\n            }\n        });\n    }\n});"],"names":["navMenu","navToggle","navClose","navLinks","link","yearSpan","observerOptions","observer","entries","entry","el","cookiePopup","acceptCookiesBtn","initHeroAnimation","container","scene","camera","renderer","particles","count","init","numParticles","positions","scales","i","j","ix","iy","geometry","material","onWindowResize","animate","render","form","successMsg","captchaInput","captchaLabel","captchaError","captchaResult","generateCaptcha","num1","num2","isValid","phone","phoneError","email","emailError","btn","originalText"],"mappings":"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"}